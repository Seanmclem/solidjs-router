import{createComponent as t,Show as e,template as n,insert as r,wrap as o,delegateEvents as c}from"solid-js/dom";import{createContext as i,createState as u,useContext as l}from"solid-js";const h=i([{currentRoute:""},{}]);function s(e){const[n,r]=u({currentRoute:(()=>{const t=document.location.href.split(document.location.host);return t.length>1?t[1].replace("/",""):""})()}),o=[n,{setRoute(t){r({currentRoute:t})}}];return t(h.Provider,{value:o,children:()=>e.children},["children"])}const d=({path:n,component:r,children:o})=>{const c=r,[i]=l(h);return t(e,{when:()=>n===i.currentRoute,children:()=>c({})},["when","children"])},a=n("<a></a>"),p=t=>{const[e,{setRoute:n}]=l(h);return function(){const e=a.cloneNode(!0);return e.__click=e=>((t,e,n)=>{t.preventDefault(),e=1===e.indexOf("/")?e.replace("/",""):e,window.history.pushState("","",`/${e}`),n(e)})(e,t.path,n),r(e,()=>t.children),o(()=>e.setAttribute("href",t.path)),e}()};c(["click"]);export{d as Route,h as RouterContext,p as RouterLink,s as RouterProvider};
