import{createComponent as t,Show as e,template as o,delegateEvents as r,insert as n,wrap as c}from"solid-js/dom";import{createContext as u,createState as i,useContext as s}from"solid-js";const l=u([{currentRoute:""},{}]);const h=o("<a></a>");r(["click"]);const d=({path:o,component:r,children:n})=>{const c=r,[u]=s(l);return t(e,{when:()=>o===u.currentRoute,children:()=>c({})},["when","children"])},a=l,p=t=>{const[e,{setRoute:o}]=s(l);return function(){const e=h.cloneNode(!0);return e.__click=e=>((t,e,o)=>{t.preventDefault(),e=1===e.indexOf("/")?e.replace("/",""):e,window.history.pushState("","",`/${e}`),o(e)})(e,t.path,o),n(e,()=>t.children),c(()=>e.setAttribute("href",t.path)),e}()},R=function(e){const[o,r]=i({currentRoute:(()=>{const t=document.location.href.split(document.location.host);return t.length>1?t[1].replace("/",""):""})()}),n=[o,{setRoute(t){r({currentRoute:t})}}];return t(l.Provider,{value:n,children:()=>e.children},["children"])};export{d as Route,a as RouterContext,p as RouterLink,R as RouterProvider};
